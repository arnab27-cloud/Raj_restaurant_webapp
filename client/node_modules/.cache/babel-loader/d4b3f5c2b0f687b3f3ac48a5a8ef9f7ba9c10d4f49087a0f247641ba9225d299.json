{"ast":null,"code":"import React,{useState}from'react';import{useBooking}from'../context/BookingContext';import{useNavigate}from'react-router-dom';import'./BookTable.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookTable=()=>{const[name,setName]=useState('');const[date,setDate]=useState('');const[time,setTime]=useState('');const[guests,setGuests]=useState(1);const[tableNumber,setTableNumber]=useState(1);const[error,setError]=useState('');const[success,setSuccess]=useState('');const{addTableBooking,setCart}=useBooking();const navigate=useNavigate();const handleSubmit=e=>{e.preventDefault();setError('');setSuccess('');if(!name||!date||!time){setError('Please fill in all required fields.');return;}const bookingDetails={name,date,time,guests,tableNumber,type:'Table'};const bookingSuccess=addTableBooking(bookingDetails);if(bookingSuccess){setSuccess(`Table ${tableNumber} booked successfully for ${name}! You will be redirected to your cart.`);setTimeout(()=>{setCart(prev=>[...prev,bookingDetails]);navigate('/cart');},3000);}else{setError('This table is already booked for the selected date and time. Please choose another.');}};const tableOptions=Array.from({length:10},(_,i)=>i+1);return/*#__PURE__*/_jsxs(\"div\",{className:\"book-table-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Book a Table\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"booking-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",value:name,onChange:e=>setName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"date\",value:date,onChange:e=>setDate(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"time\",children:\"Time\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",id:\"time\",value:time,onChange:e=>setTime(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"guests\",children:\"Number of Guests\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"guests\",value:guests,min:\"1\",max:\"10\",onChange:e=>setGuests(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tableNumber\",children:\"Table Number\"}),/*#__PURE__*/_jsx(\"select\",{id:\"tableNumber\",value:tableNumber,onChange:e=>setTableNumber(e.target.value),children:tableOptions.map(table=>/*#__PURE__*/_jsxs(\"option\",{value:table,children:[\"Table \",table]},table))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",children:\"Book Now\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",children:success})]})]});};export default BookTable;","map":{"version":3,"names":["React","useState","useBooking","useNavigate","jsx","_jsx","jsxs","_jsxs","BookTable","name","setName","date","setDate","time","setTime","guests","setGuests","tableNumber","setTableNumber","error","setError","success","setSuccess","addTableBooking","setCart","navigate","handleSubmit","e","preventDefault","bookingDetails","type","bookingSuccess","setTimeout","prev","tableOptions","Array","from","length","_","i","className","children","onSubmit","htmlFor","id","value","onChange","target","required","min","max","map","table"],"sources":["C:/Users/arnab/OneDrive/Documents/GitHub/Raj_restaurant_webapp/client/src/pages/BookTable.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useBooking } from '../context/BookingContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './BookTable.css';\r\n\r\nconst BookTable = () => {\r\n  const [name, setName] = useState('');\r\n  const [date, setDate] = useState('');\r\n  const [time, setTime] = useState('');\r\n  const [guests, setGuests] = useState(1);\r\n  const [tableNumber, setTableNumber] = useState(1);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  const { addTableBooking, setCart } = useBooking();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    if (!name || !date || !time) {\r\n      setError('Please fill in all required fields.');\r\n      return;\r\n    }\r\n\r\n    const bookingDetails = {\r\n      name,\r\n      date,\r\n      time,\r\n      guests,\r\n      tableNumber,\r\n      type: 'Table'\r\n    };\r\n\r\n    const bookingSuccess = addTableBooking(bookingDetails);\r\n\r\n    if (bookingSuccess) {\r\n      setSuccess(`Table ${tableNumber} booked successfully for ${name}! You will be redirected to your cart.`);\r\n      setTimeout(() => {\r\n        setCart((prev) => [...prev, bookingDetails]);\r\n        navigate('/cart');\r\n      }, 3000);\r\n    } else {\r\n      setError('This table is already booked for the selected date and time. Please choose another.');\r\n    }\r\n  };\r\n\r\n  const tableOptions = Array.from({ length: 10 }, (_, i) => i + 1);\r\n\r\n  return (\r\n    <div className=\"book-table-container\">\r\n      <h2>Book a Table</h2>\r\n      <form onSubmit={handleSubmit} className=\"booking-form\">\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"name\">Full Name</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"date\">Date</label>\r\n          <input\r\n            type=\"date\"\r\n            id=\"date\"\r\n            value={date}\r\n            onChange={(e) => setDate(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"time\">Time</label>\r\n          <input\r\n            type=\"time\"\r\n            id=\"time\"\r\n            value={time}\r\n            onChange={(e) => setTime(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"guests\">Number of Guests</label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"guests\"\r\n            value={guests}\r\n            min=\"1\"\r\n            max=\"10\"\r\n            onChange={(e) => setGuests(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"tableNumber\">Table Number</label>\r\n          <select\r\n            id=\"tableNumber\"\r\n            value={tableNumber}\r\n            onChange={(e) => setTableNumber(e.target.value)}\r\n          >\r\n            {tableOptions.map(table => (\r\n              <option key={table} value={table}>\r\n                Table {table}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <button type=\"submit\" className=\"submit-btn\">Book Now</button>\r\n        {error && <p className=\"error-message\">{error}</p>}\r\n        {success && <p className=\"success-message\">{success}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}