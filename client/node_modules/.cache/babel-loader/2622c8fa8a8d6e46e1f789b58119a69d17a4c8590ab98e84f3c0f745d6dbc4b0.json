{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import'./BookRoom.css';import{useBooking}from'../context/BookingContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function BookRoom(){const[roomType,setRoomType]=useState('');const[checkIn,setCheckIn]=useState('');const[checkOut,setCheckOut]=useState('');const[guests,setGuests]=useState(1);const navigate=useNavigate();const{addBooking}=useBooking();// âœ… Correct hook usage\nconst calculatePrice=(checkIn,checkOut,guests)=>{const start=new Date(checkIn);const end=new Date(checkOut);const nights=Math.max(1,Math.ceil((end-start)/(1000*60*60*24)));const baseRatePerNight=2000;const extraGuestFee=guests>2?(guests-2)*500:0;return nights*baseRatePerNight+extraGuestFee;};const handleSubmit=e=>{e.preventDefault();const price=calculatePrice(checkIn,checkOut,guests);const booking={id:Date.now(),// âœ… Unique ID for multi-room support\nroomType,checkIn,checkOut,guests:Number(guests),price};addBooking(booking);// âœ… Push to bookings array\nnavigate('/cart');};return/*#__PURE__*/_jsxs(\"div\",{className:\"book-room-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCC5 Book a Room\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"booking-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Room Type:\"}),/*#__PURE__*/_jsxs(\"select\",{value:roomType,onChange:e=>setRoomType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Room Type --\"}),/*#__PURE__*/_jsx(\"option\",{value:\"single\",children:\"Single\"}),/*#__PURE__*/_jsx(\"option\",{value:\"double\",children:\"Double\"}),/*#__PURE__*/_jsx(\"option\",{value:\"suite\",children:\"Suite\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Check-In Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:checkIn,onChange:e=>setCheckIn(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Check-Out Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:checkOut,onChange:e=>setCheckOut(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Guests:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:guests,min:\"1\",max:\"5\",onChange:e=>setGuests(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"book-btn\",children:\"Book Now\"})]})]});}","map":{"version":3,"names":["React","useState","useNavigate","useBooking","jsx","_jsx","jsxs","_jsxs","BookRoom","roomType","setRoomType","checkIn","setCheckIn","checkOut","setCheckOut","guests","setGuests","navigate","addBooking","calculatePrice","start","Date","end","nights","Math","max","ceil","baseRatePerNight","extraGuestFee","handleSubmit","e","preventDefault","price","booking","id","now","Number","className","children","onSubmit","value","onChange","target","type","min"],"sources":["C:/Users/arnab/OneDrive/Documents/GitHub/Raj_restaurant_webapp/client/src/pages/BookRoom.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './BookRoom.css';\r\nimport { useBooking } from '../context/BookingContext';\r\n\r\nexport default function BookRoom() {\r\n  const [roomType, setRoomType] = useState('');\r\n  const [checkIn, setCheckIn] = useState('');\r\n  const [checkOut, setCheckOut] = useState('');\r\n  const [guests, setGuests] = useState(1);\r\n\r\n  const navigate = useNavigate();\r\n  const { addBooking } = useBooking(); // âœ… Correct hook usage\r\n\r\n  const calculatePrice = (checkIn, checkOut, guests) => {\r\n    const start = new Date(checkIn);\r\n    const end = new Date(checkOut);\r\n    const nights = Math.max(1, Math.ceil((end - start) / (1000 * 60 * 60 * 24)));\r\n\r\n    const baseRatePerNight = 2000;\r\n    const extraGuestFee = guests > 2 ? (guests - 2) * 500 : 0;\r\n\r\n    return nights * baseRatePerNight + extraGuestFee;\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const price = calculatePrice(checkIn, checkOut, guests);\r\n\r\n    const booking = {\r\n      id: Date.now(), // âœ… Unique ID for multi-room support\r\n      roomType,\r\n      checkIn,\r\n      checkOut,\r\n      guests: Number(guests),\r\n      price,\r\n    };\r\n\r\n    addBooking(booking); // âœ… Push to bookings array\r\n    navigate('/cart');\r\n  };\r\n\r\n  return (\r\n    <div className=\"book-room-container\">\r\n      <h2>ðŸ“… Book a Room</h2>\r\n      <form onSubmit={handleSubmit} className=\"booking-form\">\r\n        <div className=\"form-group\">\r\n          <label>Room Type:</label>\r\n          <select value={roomType} onChange={(e) => setRoomType(e.target.value)}>\r\n            <option value=\"\">-- Select Room Type --</option>\r\n            <option value=\"single\">Single</option>\r\n            <option value=\"double\">Double</option>\r\n            <option value=\"suite\">Suite</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Check-In Date:</label>\r\n          <input type=\"date\" value={checkIn} onChange={(e) => setCheckIn(e.target.value)} />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Check-Out Date:</label>\r\n          <input type=\"date\" value={checkOut} onChange={(e) => setCheckOut(e.target.value)} />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Guests:</label>\r\n          <input\r\n            type=\"number\"\r\n            value={guests}\r\n            min=\"1\"\r\n            max=\"5\"\r\n            onChange={(e) => setGuests(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"book-btn\">Book Now</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}